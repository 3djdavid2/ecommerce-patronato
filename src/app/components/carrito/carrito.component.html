<div class="container">

    <div class="pago">
        <mat-stepper orientation="horizontal">
            <mat-step  [editable]="true">
              <ng-template matStepLabel>Env√≠o/Retiro</ng-template>
              <ng-template matStepContent>
                <app-envio></app-envio>
                <button mat-button matStepperNext>Ir al pago</button>
              </ng-template>
            </mat-step>
            <mat-step>
              <ng-template matStepLabel>Pago</ng-template>
              <ng-template matStepContent>
                <app-pago></app-pago>
               
                <button mat-button matStepperPrevious>Paso anterior</button>
               
              </ng-template>
            </mat-step>
          
          </mat-stepper>
          
    </div>

    <div class="carrito">

        <div class="titulo">
            <div class="detalle">
                <h1>Carrito de compra</h1>
                <h1>Total a Pagar: $<b>{{totalPagar | number}}</b>.- (CLP)</h1>
            </div>
           
        </div>


     
        <div class="tabla mat-elevation-z8">
            <table mat-table [dataSource]="dataSource">

                <!-- id Column -->
                <ng-container matColumnDef="id">
                </ng-container>
        
                <!-- producto Column -->
                <ng-container matColumnDef="producto">
                    <th mat-header-cell *matHeaderCellDef> Producto</th>
                    <td mat-cell *matCellDef="let element"> {{element.producto}} </td>
                </ng-container>

                <!-- cantidad Column -->
                <ng-container matColumnDef="cantidad">
                    <th mat-header-cell *matHeaderCellDef> Cantidad </th>
                    <td mat-cell *matCellDef="let element"> {{element.cantidad}} </td>
                </ng-container>

                <!-- precio Column -->
                <ng-container matColumnDef="precio">
                    <th mat-header-cell *matHeaderCellDef> Precio </th>
                    <td mat-cell *matCellDef="let element"> {{element.precio | number}} </td>
                </ng-container>

                <!-- total Column -->
                <ng-container matColumnDef="total">
                    <th mat-header-cell *matHeaderCellDef> Total </th>
                    <td mat-cell *matCellDef="let element"> <b>{{element.total | number}}</b> </td>
                </ng-container>

                <!-- Editar cantidad Column -->
                <ng-container matColumnDef="editar">
                    <th mat-header-cell *matHeaderCellDef> Editar </th>
                    <td mat-cell *matCellDef="let element"><a
                            (click)="suma(element.id,element.cantidad,element.precio)">
                            <mat-icon>add_circle</mat-icon>
                        </a>
                        <a (click)="resta(element.id,element.cantidad,element.precio)">
                            <mat-icon>remove_circle</mat-icon>
                        </a>
                    </td>
                </ng-container>
                <!-- borrar cantidad Column -->
                <ng-container matColumnDef="borrar">
                    <th mat-header-cell *matHeaderCellDef> Borrar </th>
                    <td mat-cell *matCellDef="let element" (click)="deleteById(element.id)" style="visibility:visible;">
                        <mat-icon>delete</mat-icon>
                    </td>
                </ng-container>


                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>

        </div>
    </div>
</div>